var blockly_mario;(function(){function t(t,e,n){return Blockly.JavaScript.valueToCode(t,e,n)}function e(t){return["Enjine.Keys[{",['down: "Down"','left: "Left"','jump: "S"','right: "Right"','shoot: "A"','up: "Up"'].join(", "),"}[",t,"]]"].join("")}Blockly.Language.agent_act={init:function(){this.setColour(290),this.appendDummyInput().appendTitle("activate"),this.appendValueInput("ACTION").setCheck(String),this.appendValueInput("VALUE").setCheck(Boolean),this.setInputsInline(!0),this.setPreviousStatement(!0),this.setNextStatement(!0),this.setTooltip("")}},Blockly.Language.agent_action={init:function(){this.setColour(160),this.appendDummyInput().appendTitle(new Blockly.FieldDropdown([["jump","jump"],["shoot","shoot"],["left","left"],["right","right"],["up","up"],["down","down"]]),"VALUE"),this.setInputsInline(!0),this.setOutput(!0,String),this.setTooltip("")}},Blockly.Language.agent_isActive={init:function(){this.setColour(120),this.appendDummyInput().appendTitle("is"),this.appendValueInput("ACTION").setCheck(String),this.appendDummyInput().appendTitle("active"),this.setInputsInline(!0),this.setOutput(!0,Boolean),this.setTooltip("")}},Blockly.JavaScript.agent_act=function(){var n=t(this,"ACTION",Blockly.JavaScript.ORDER_NONE),i=t(this,"VALUE",Blockly.JavaScript.ORDER_ASSIGNMENT),o=["Enjine.KeyboardInput.Pressed[",e(n),"] = ",i,";\n"].join("");return o},Blockly.JavaScript.agent_action=function(){var t='"'+this.getTitleValue("VALUE")+'"';return[t,Blockly.JavaScript.ORDER_ATOMIC]},Blockly.JavaScript.agent_isActive=function(){var n=t(this,"ACTION",Blockly.JavaScript.ORDER_NONE),i="Enjine.KeyboardInput.Pressed["+e(n)+"]";return[i,Blockly.JavaScript.ORDER_MEMBER]}})(blockly_mario||(blockly_mario={}));var blockly_mario;(function(){function t(t){return document.getElementById(t)}function e(e){return function(i){if(this.IsActive()&&32==i.keyCode){var o=t("pause");o.checked=!o.checked,n()}else e.call(this,i)}}function n(){t("pause").checked?o.timer.Stop():o.timer.Start()}function i(){var t=Blockly.Generator.workspaceToCode("JavaScript");console.log(t)}var o;window.onload=function(){o=new Enjine.Application,o.Initialize(new Mario.LoadingState("../mariohtml5/"),320,240),o.timer.UpdateObject=new a(o),Enjine.KeyboardInput.KeyDownEvent=e(Enjine.KeyboardInput.KeyDownEvent),Blockly.inject(t("blockly"),{path:"../blockly/",toolbox:t("toolbox")}),t("pause").checked=!1,t("pause").onclick=n,t("update").onclick=i};var a=function(){function t(t){this.base=t}return t.prototype.Update=function(t){this.base.Update(t)},t}()})(blockly_mario||(blockly_mario={}));